---
import Icon from 'astro-icon';
import SocialLink from './SocialLink.astro';
import { Fade } from 'react-awesome-reveal';

const year = new Date().getFullYear();
---

<section
  class="relative h-[calc(100vh-6.5rem)] center-class flex-col border-y-2 border-dashed border-gray-100 mb-10"
>
  <Icon
    name="close"
    class="absolute rotate-45 w-[20px] top-6 left-5 md:top-12 md:left-16 rotate-full-time"
  />
  <Icon
    name="l"
    class="absolute w-[70px] md:w-[100px] right-0 top-0 md:top-12 md:right-16"
  />
  <section class="flex-grow flex flex-col justify-center">
    <p
      id="mail"
      aria-label="Copy email address to clipboard"
      role="button"
      class="hover:underline cursor-pointer font-inclusive text-5xl md:text-8xl lg:text-9xl xl:text-[12rem]"
    >
      hey@<br />emikinder.dev
    </p>
    <div
      class="absolute flex bottom-44 sm:bottom-36 left-1/2 transform -translate-x-1/2 text-center opacity-0 transition-opacity duration-300"
      id="copyNotification"
    >
      copied
      <Icon
        name="check"
        class="w-4"
      />
    </div>
  </section>
  <section class="w-full md:w-10/12 flex gap-12 items-center pb-10">
    <section class="hidden md:block w-1/3">
      <h6>"Go out and get busy"</h6>
    </section>
    <Fade
      direction="up"
      triggerOnce
      client:load
      className="w-1/2 gap-5 flex items-center justify-end md:justify-center md:w-1/3"
    >
      <SocialLink
        href="https://www.instagram.com/emikinderknecht/"
        label="Instagram"
        icon="ig"
        hoverColor="hover:text-customPink"
      />
      <SocialLink
        href="https://www.linkedin.com/in/emiliano-kinderknecht/"
        label="LinkedIn"
        icon="linkedin"
        hoverColor="hover:text-customPurple"
      />
      <SocialLink
        href="https://www.github.com/emikinder/"
        label="GitHub"
        icon="github"
        hoverColor="hover:text-customYellow"
      />
    </Fade>
    <div class="w-1/2 flex items-center justify-start md:justify-end md:w-1/3">
      <h6>{year}</h6>
    </div>
  </section>
</section>
<style>
  @keyframes rotate {
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(360deg);
    }
  }

  .rotate-full-time {
    animation: rotate 5s linear infinite;
  }
</style>
<script is:inline>
  (() => {
    const mail = document.getElementById('mail');
    const copyNotification = document.getElementById('copyNotification');

    if (!mail || !copyNotification) return;

    const handleCopy = () => {
      navigator.clipboard.writeText('hey@emikinder.dev');

      // Show the notification
      copyNotification.classList.remove('opacity-0');
      copyNotification.classList.add('opacity-100');

      // Hide it after 2 seconds
      setTimeout(() => {
        copyNotification.classList.remove('opacity-100');
        copyNotification.classList.add('opacity-0');
      }, 2000);
    };

    mail.addEventListener('click', handleCopy);
  })();
</script>
